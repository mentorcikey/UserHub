{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\n/**\n * A global API ref, for v7-to-legacy converter\n */\nexport const GLOBAL_API_REF = {\n  current: null\n};\n\n/**\n * A tagger to determine if the filter is internal or custom user-supplied.\n * To be a valid internal filter, the v7 function *must* be defined/redefined at\n * the same time as the legacy one.\n * https://github.com/mui/mui-x/pull/9254#discussion_r1231095551\n */\nexport function tagInternalFilter(fn) {\n  fn.isInternal = true;\n  return fn;\n}\nexport function isInternalFilter(fn) {\n  return fn !== undefined && fn.isInternal === true;\n}\nexport function convertFilterV7ToLegacy(fn) {\n  return tagInternalFilter((filterItem, column) => {\n    const filterFn = fn(filterItem, column);\n    if (!filterFn) {\n      return filterFn;\n    }\n    return cellParams => {\n      return filterFn(cellParams.value, cellParams.row, column, GLOBAL_API_REF.current);\n    };\n  });\n}\nexport function convertLegacyOperators(ops) {\n  return ops.map(op => {\n    return _extends({}, op, {\n      getApplyFilterFn: convertFilterV7ToLegacy(op.getApplyFilterFnV7),\n      getApplyFilterFnV7: tagInternalFilter(op.getApplyFilterFnV7)\n    });\n  });\n}\nexport function convertQuickFilterV7ToLegacy(fn) {\n  return tagInternalFilter((filterItem, column, apiRef) => {\n    const filterFn = fn(filterItem, column, apiRef);\n    if (!filterFn) {\n      return filterFn;\n    }\n    return cellParams => {\n      return filterFn(cellParams.value, cellParams.row, column, apiRef);\n    };\n  });\n}","map":null,"metadata":{},"sourceType":"module"}